{% extends 'base.html' %}

{% block title %}Moje Finanse - Ustawienia{% endblock %}

{% block body %}

{% if current_user%}

{% endif %}	

		<nav class="navbar navbar-expand-md bg-wlasne navbar-dark justify-content-center">
		  <div class="container-fluid">
					<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mainmenu" aria-controls="mainmenu" aria-expanded="false" aria-label="Przełącznik nawigacji">
						<span class="navbar-toggler-icon "></span>
					</button>
					
					<div class="collapse navbar-collapse justify-content-center" id="mainmenu">
						<ul class="navbar-nav">
							<li class="nav-item">
								<a class="nav-link" href="/mainmenu/new"><i class="icon-menu-outline"></i>Start  </a> 
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/income/new"><i class="icon-money-1"></i>Dodaj Przychód  </a> 
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/expense/new"><i class="icon-shopping-bag"></i>Dodaj Wydatek  </a> 
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/balance/new"><i class="icon-chart-line"></i>Bilans  </a> 
							</li>
							<li class="nav-item active">
								<a class="nav-link" href="/settings/new"><i class="icon-cogs"></i>Ustawienia  </a> 
							</li>
							<li class="nav-item">
								<a class="nav-link"><span style="color: #5cb85c"><i class="icon-user-1"></i>
								{{ current_user.username }}</span>
								</a>
							</li>							
							<li class="nav-item">
								<a class="nav-link" href="/login/destroy"><i class="icon-logout"></i>Wyloguj się   </a> 
							</li>
						</ul>
					</div>
			</div>	
		</nav>

		<main>
			<section>
				<div class="wydatek" style="width: 50%">
<h1>Ustawienia</h1>
	<br>
	<div id="accordion" class="myaccordion">

  <div class="card">
    <div class="card-header">
      <a class="card-link" data-toggle="collapse" href="#collapseOne">
        Kategorie przychodów
      </a>
    </div>
    <div id="collapseOne" class="collapse" data-parent="#accordion">
      <div class="card-body">
									<fieldset class="radio" required>
											{% for item in inc_cat_assigned %}						
												<div id="one_line"><label><input type="radio" value="{{ item.0 }}" name="przychod" required>  {{ item.0 }} </label><span style="float: right"><a class="small_icon" type="button" name="edycja" data-toggle="modal" data-target="#modal-edycja-przychody"><i class="icon-pencil"></i></a><a class="small_icon" type="button" name="usuwanie" data-toggle="modal" data-target="#modal-usuwanie"><i class="icon-trash"></i></a></span></div>
											{% endfor %}
												<br><div id="one_line"><b>Dodaj kategorię przychodów</b><span style="float: right"><a class="small_icon" type="button" name="okres" data-toggle="modal" data-target="#modal-nowa_kategoria_przychod"><i class="icon-login"></i></a></div>	
									</fieldset> 
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      <a class="collapsed card-link" data-toggle="collapse" href="#collapseTwo">
        Kategorie wydatków
      </a>
    </div>
    <div id="collapseTwo" class="collapse" data-parent="#accordion">
      <div class="card-body">								
									<fieldset class="radio">								
											{% for item in exp_cat_assigned %}						
												<div id="one_line"><label><input type="radio" value="{{ item.0 }}" name="wydatek" required> {{ item.0 }}</label><span style="float: right"><a class="small_icon"  type="button" name="edycja" data-toggle="modal" data-target="#modal-edycja-wydatki"><i class="icon-pencil"></i></a><a class="small_icon" type="button" name="usuwanie" data-toggle="modal" data-target="#modal-usuwanie"><i class="icon-trash"></i></a></span></div>
											{% endfor %}	
												<br><div id="one_line"><b>Dodaj kategorię wydatków</b><span style="float: right"><a class="small_icon" type="button" name="okres" data-toggle="modal" data-target="#modal-nowa_kategoria_wydatek"><i class="icon-login"></i></a></div>	
									</fieldset>
      </div>
    </div>
  </div>
 
  <div class="card">
    <div class="card-header">
      <a class="collapsed card-link" data-toggle="collapse" href="#collapseThree">
        Sposoby płatności
      </a>
    </div>
    <div id="collapseThree" class="collapse" data-parent="#accordion">
      <div class="card-body">
								<form action="/Settings/create" method="post">	  
									<fieldset class="radio">						
											{% for item in pay_meth_assigned %}						
												<div id="one_line"><label><input type="radio" value="{{ item.0 }}" name="sposob" required> {{ item.0 }}</label><span style="float: right"><a class="small_icon"  type="button" name="edycja" data-toggle="modal" data-target="#modal-edycja-platnosci"><i class="icon-pencil"></i></a><a class="small_icon" type="button" name="usuwanie" data-toggle="modal" data-target="#modal-usuwanie"><i class="icon-trash"></i></a></span></div>
											{% endfor %}		
												<br><div id="one_line"><b>Dodaj sposób płatności</b><span style="float: right"><a class="small_icon" type="button" name="okres" data-toggle="modal" data-target="#modal-nowa_metoda_platnosci"><i class="icon-login"></i></a></div>	
									</fieldset>
								</form>	
      </div>
    </div>
  </div> 

  <div class="card">
  
    <div class="card-header">
      <a class="collapsed card-link" data-toggle="collapse" href="#collapseFour">
        Użytkownik
      </a>
    </div>
    <div id="collapseFour" class="collapse" data-parent="#accordion">
      <div class="card-body">
        Tutaj możesz edytować Twoje dane
      </div>
    </div>
  </div>

</div>

				</div>
				
										<!-- Modal nowa kategoria wydatkow-->
						<div class="modal fade" id="modal-nowa_kategoria_wydatek" tabindex="-1" role="dialog" aria-labelledby="modal-nowa_kategoria_wydatek" aria-hidden="true">
							 <div class="modal-dialog modal-dialog-centered" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title">Utwórz nową kategorię</h5>
											<button type="button" class="close" data-dismiss="modal" aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
								  </div>
								  <form action="/Settings/create" method="post">
								  <div class="modal-body">
										<input type="text" placeholder="Nazwa kategorii" name="nowa_nazwa">
								  </div>								  
								  <div class="modal-footer">								  
									<button type="button" class="btn btn-danger" data-dismiss="modal">Anuluj</button>
									<button type="submit" value="2" name="kategoria" class="btn btn-success">Utwórz</button>
									</form>
								</div>
								</div>
							 </div>
						</div>
						
										<!-- Modal nowa kategoria przychodow-->
						<div class="modal fade" id="modal-nowa_kategoria_przychod" tabindex="-1" role="dialog" aria-labelledby="modal-nowa_kategoria_przychod" aria-hidden="true">
							 <div class="modal-dialog modal-dialog-centered" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title">Utwórz nową kategorię</h5>
											<button type="button" class="close" data-dismiss="modal" aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
								  </div>
								  <form action="/Settings/create" method="post">
								  <div class="modal-body">
										<input type="text" placeholder="Nazwa kategorii" name="nowa_nazwa">
								  </div>								  
								  <div class="modal-footer">								  
									<button type="button" class="btn btn-danger" data-dismiss="modal">Anuluj</button>
									<button type="submit" value="1" name="kategoria" class="btn btn-success">Utwórz</button>
									</form>
								</div>
								</div>
							 </div>
						</div>						
										<!-- Modal nowy sposob platnosci-->
						<div class="modal fade" id="modal-nowa_metoda_platnosci" tabindex="-1" role="dialog" aria-labelledby="modal-nowa_metoda_platnosci" aria-hidden="true">
							 <div class="modal-dialog modal-dialog-centered" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title">Dodaj nową metodę płatności</h5>
											<button type="button" class="close" data-dismiss="modal" aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
								  </div>
								  <form action="/Settings/create" method="post">
								  <div class="modal-body">
										<input type="text" placeholder="Nazwa sposobu płatności" name="nowa_nazwa">
								  </div>								  
								  <div class="modal-footer">								  
									<button type="button" class="btn btn-danger" data-dismiss="modal">Anuluj</button>
									<button type="submit" value="3" name="kategoria" class="btn btn-success">Utwórz</button>
									</form>
								</div>
								</div>
							 </div>
						</div>				

										<!-- Modal edycja przychody-->
						<div class="modal fade" id="modal-edycja-przychody" tabindex="-1" role="dialog" aria-labelledby="modal-edycja-przychody" aria-hidden="true">
							 <div class="modal-dialog modal-dialog-centered" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title">Edytuj kategorię {{ item.0 }} </h5>
											<button type="button" class="close" data-dismiss="modal" aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
								  </div>
								  <form action="/Settings/create" method="post">
								  <div class="modal-body">
										<input type="text" placeholder="Nowa nazwa" name="nowa_nazwa">
								  </div>								  
								  <div class="modal-footer">								  
									<button type="button" class="btn btn-danger" data-dismiss="modal">Anuluj</button>
									<button type="submit" value="1" name="edycja" class="btn btn-success">Potwierdzam</button>
									</form>
								</div>
								</div>
							 </div>
						</div>			

										<!-- Modal edycja wydatki-->
						<div class="modal fade" id="modal-edycja-wydatki" tabindex="-1" role="dialog" aria-labelledby="modal-edycja-wydatki" aria-hidden="true">
							 <div class="modal-dialog modal-dialog-centered" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title">Edytuj kategorię</h5>
											<button type="button" class="close" data-dismiss="modal" aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
								  </div>
								  <form action="/Settings/create" method="post">
								  <div class="modal-body">
										<input type="text" placeholder="Nowa nazwa" name="nowa_nazwa">
								  </div>								  
								  <div class="modal-footer">								  
									<button type="button" class="btn btn-danger" data-dismiss="modal">Anuluj</button>
									<button type="submit" value="2" name="edycja" class="btn btn-success">Potwierdzam</button>
									</form>
								</div>
								</div>
							 </div>
						</div>	

										<!-- Modal edycja platnosci-->
						<div class="modal fade" id="modal-edycja-platnosci" tabindex="-1" role="dialog" aria-labelledby="modal-edycja-platnosci" aria-hidden="true">
							 <div class="modal-dialog modal-dialog-centered" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title">Edytuj kategorię</h5>
											<button type="button" class="close" data-dismiss="modal" aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
								  </div>
								  <form action="/Settings/create" method="post">
								  <div class="modal-body">
										<input type="text" placeholder="Nowa nazwa" name="nowa_nazwa">
								  </div>								  
								  <div class="modal-footer">								  
									<button type="button" class="btn btn-danger" data-dismiss="modal">Anuluj</button>
									<button type="submit" value="3" name="edycja" class="btn btn-success">Potwierdzam</button>
									</form>
								</div>
								</div>
							 </div>
						</div>								
										<!-- Modal usuwanie-->
						<div class="modal fade" id="modal-usuwanie" tabindex="-1" role="dialog" aria-labelledby="modal-usuwanie" aria-hidden="true">
							 <div class="modal-dialog modal-dialog-centered" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title">USUWANIE KATEGORII!</h5>
											<button type="button" class="close" data-dismiss="modal" aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
								  </div>
								  <form action="/Balance/new" method="post">
								  <div class="modal-body">
										<b><span style="color: red">UWAGA! ZAMIERZASZ CAŁKOWICIE USUNĄĆ KATEGORIĘ!</span></b>
								  </div>								  
								  <div class="modal-footer">								  
									<button type="button" class="btn btn-success" data-dismiss="modal">Anuluj</button>
									<button type="submit" value="4" name="okres" class="btn btn-danger">Usuń</button>
									</form>
								</div>
								</div>
							 </div>
						</div>									
			</section>
		</main>

{% endblock %}